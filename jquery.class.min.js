/*--------------------------------------------*
 * Useful extensions when
 * you are creating your own
 * javascript objects/classes
 *--------------------------------------------*
 * Orgins from:
 * Simple JavaScript Inheritance and makeClass
 * by John Resig http://ejohn.org/
 *--------------------------------------------*
 * Integrated with jQuery and added
 * functionality by Emil Kilhage
 *--------------------------------------------*
 * Last Update: 2011-02-26 02:02:56
 *--------------------------------------------*/
(function(i){function j(a,b,c,e){c=c||b;for(var f in a)if(a.hasOwnProperty(f))c[f]=d.rewrite(f,a,b,e);return b}function g(a){return v.call(a)==="[object Function]"}var m=false,p="$.Class :: "+(new Date).getTime(),q=/\b_parent\b/.test(function(){this._parent()}),r=q?/\b_parent\b/:/.*/,s=q?/\b_parent\b\./:/.*/,n=function(){function a(b){if(this instanceof a){if(m===false&&g(this.init))this.init.apply(this,typeof b==="object"&&b.callee?b:arguments)}else return new a(arguments)}a.__is_class__=p;return a},
k=n();k.extend=function(a,b){var c=n(),e;if(typeof a!=="boolean")b=a;b=typeof b==="object"&&b!==null?b:{};for(e in this)if(this.hasOwnProperty(e))c[e]=this[e];if(a===true||typeof b.prototype==="object"){d.validate(b);j(b,this,c,d.initPopulator(this));b=b.prototype}c.constructor=c;d.addMethods(this,b,c);return c};k.addMethods=function(a){return j(a,this.prototype)};k.prototype={extend:function(a){return j(a,this)}};var d=function(a,b){return k.extend(a,b)};d.fnSearch=r;d.parentFnSearch=s;d.log_prefix=
"$.Class :: ";d.errors={logic_parent_call:"Logic error, unable to call the parent function since it isn't defined..",self_in_prop:"'__self__' is a preserved word used in the jQuery.Class plugin, please rename the function"};d.makeClass=n;d.addMethods=function(a,b,c){c=c||a;m=true;var e=a.prototype||{};a=new a;m=false;b=b||{};d.validate(b);j(b,e,a,d.initPopulator(e));c.prototype=a;return c};d.rewrite=function(a,b,c,e){return g(b[a])&&(g(c[a])||!(a in c))&&!d.is(b[a])&&r.test(b[a])?function(f,l,t){l=
l||function(){throw d.log_prefix+d.errors.logic_parent_call;};var u=g(t)&&s.test(f);return function(){var w="_parent"in this,x=this._parent,h;if(u===true){u=false;h=t();for(var o in h)if(h.hasOwnProperty(o))l[o]=h[o]}this._parent=l;this._parent.__self__=this;h=f.apply(this,arguments);if(w)this._parent=x;else try{delete this._parent}catch(y){}return h}}(b[a],c[a],e):b[a]};d.is=function(a){return a.__is_class__===p};d.initPopulator=function(a){var b;return function(){if(b==null){b={};for(var c in a)if(a.hasOwnProperty(c)&&
g(a[c]))b[c]=function(e){return function(){return e.apply(this.__self__,arguments)}}(a[c])}return b}};d.validate=function(a){if(g(a.__self__))throw d.log_prefix+d.errors.self_in_prop;};var v=Object.prototype.toString;if(!i.$)i.$={};i.$.Class=d;if("jQuery"in i)i.jQuery.Class=d})(window);
