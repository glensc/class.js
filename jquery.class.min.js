/*--------------------------------------------*
 * Useful extensions when
 * you are creating your own
 * javascript objects/classes
 *--------------------------------------------*
 * Orgins from:
 * Simple JavaScript Inheritance and makeClass
 * by John Resig http://ejohn.org/
 *--------------------------------------------*
 * Integrated with jQuery and added
 * functionality by Emil Kilhage
 *--------------------------------------------*
 * Last Update: 2011-01-31 18:35:00
 *--------------------------------------------*/
(function(d){var j=false,n="jQuery.Class :: "+d.now(),o=/\b_parent\b/.test(function(){this._parent()}),p=o?/\b_parent\b/:/.*/,q=o?/\b_parent\b\./:/.*/,i="function",k="object",l=function(){function a(b){if(this instanceof arguments.callee){if(!j&&typeof this.init===i)this.init.apply(this,typeof b===k&&b.callee?b:arguments)}else return new arguments.callee(arguments)}a.__is_class__=n;return a},s=d.extend(l(),{extend:function(a,b){var c=l(),e,g;if(typeof a!=="boolean")b=a;b=typeof b===k&&b!==null?b:
{};for(e in this)if(this.hasOwnProperty(e))c[e]=this[e];if(a===true||typeof b.prototype===k){g=d.Class.initPopulator(this);for(e in b)if(b.hasOwnProperty(e)&&e!=="prototype")c[e]=d.Class.rewrite(e,b,this,g);b=b.prototype}c.constructor=c;d.Class.addMethods(this,b,c);return c},addMethods:function(a){return d.Class.addMethods(this,a)}});d.Class=function(a,b){return d.Class.create(a,b)};d.extend(d.Class,{fnSearch:p,parentFnSearch:q,errors:{logic_parent_call:"Logic error, unable to call the parent function since it isn't defined.."},
log_prefix:"jQuery.Class :: ",error:function(a){d.error(d.Class.log_prefix+d.Class.errors[a])},makeClass:l,create:function(a,b){return s.extend(a,b)},addMethods:function(a,b,c){c=c||a;j=true;var e=a.prototype||{};a=new a;var g=d.Class.initPopulator(e),f;j=false;for(f in b)if(b.hasOwnProperty(f))a[f]=d.Class.rewrite(f,b,e,g);c.prototype=a;return c},rewrite:function(a,b,c,e){return d.type(b[a])===i&&(d.type(c[a])===i||!(a in c))&&!d.Class.is(b[a])&&p.test(b[a])?function(g,f,h){f=f||function(){d.Class.error("logic_parent_call")};
if(q.test(g)){h=h();for(var m in h)if(h.hasOwnProperty(m))f[m]=h[m]}return function(){var t="_parent"in this,u=this._parent,r;this._parent=f;this._parent._self=this;r=g.apply(this,arguments);if(t)this._parent=u;else try{delete this._parent}catch(v){}return r}}(b[a],c[a],e):b[a]},is:function(a){return a.__is_class__===n},initPopulator:function(a){var b,c;return function(){if(b==null){b={};for(c in a)if(a.hasOwnProperty(c)&&d.type(a[c])===i)b[c]=function(e){return function(){return e.apply(this._self,
arguments)}}(a[c])}return b}}})})(jQuery);
