/*--------------------------------------------*
 * Useful extensions when
 * you are creating your own
 * javascript objects/classes
 *--------------------------------------------*
 * Orgins from:
 * Simple JavaScript Inheritance and makeClass
 * by John Resig http://ejohn.org/
 *--------------------------------------------*
 * Integrated with jQuery and added
 * functionality by Emil Kilhage
 *--------------------------------------------*
 * Last Update: 2011-01-27 21:16:00
 *--------------------------------------------*/
(function(c){var h=false,i="jQuery.Class-"+(new Date).getTime(),l=typeof window.console==="object"&&typeof console.log==="function",j=function(){function a(b){if(this instanceof arguments.callee){if(!h&&typeof this.init==="function")this.init.apply(this,typeof b==="object"&&b.callee?b:arguments)}else return new arguments.callee(arguments)}a.__is_class__=i;return a},k=c.extend(j(),{extend:function(a,b){var e=c.Class.makeClass(),d,g;if(typeof a!=="boolean"){b=typeof a==="object"&&a!==null?a:{};a=typeof b.prototype===
"object"}else b=typeof b==="object"&&b!==null?b:{};for(d in this)if(this.hasOwnProperty(d))e[d]=this[d];if(a===true){g=c.Class.initPopulator(this);for(d in b)if(b.hasOwnProperty(d)&&d!=="prototype")e[d]=c.Class.rewrite(d,b,this,g);b=b.prototype||{}}e.constructor=e;c.Class.addMethods(this,b,e);return e},addMethods:function(a){return c.Class.addMethods(this,a)}});c.Class=function(a,b){return c.Class.create(a,b)};c.extend(c.Class,{fnSearch:function(){return/xyz/.test(function(){})?/\b_parent\b/:/.*/}(),
enable_log:true,errors:{logic_parent_call:"Logic error, unable to call the parent function since it isn't defined"},log_prefix:"jQuery.Class :: ",error:function(a){c.error(c.Class.log_prefix+c.Class.errors[a])},log:function(a){if(l&&c.Class.enable_log){var b=typeof a;if(b==="string"||b==="number")a=c.Class.log_prefix+a;console.log(a)}return a},makeClass:j,create:function(a,b){return k.extend(a,b)},addMethods:function(a,b,e){e=e||a;h=true;var d=a.prototype||{};a=new a;var g=c.Class.initPopulator(d,
true),f;h=false;for(f in b)if(b.hasOwnProperty(f))a[f]=c.Class.rewrite(f,b,d,g);e.prototype=a;return e},rewrite:function(a,b,e,d){return typeof b[a]==="function"&&(typeof e[a]==="function"||!(a in e))&&!c.Class.is(b[a])&&c.Class.fnSearch.test(b[a])?c.Class.rewriteMainParent(b[a],e[a],d):b[a]},rewriteParent:function(a){return function(){return a.apply(this._self,arguments)}},rewriteMainParent:function(a,b,e){b=b||function(){c.Class.error("logic_parent_call")};c.extend(b,e());return function(){var d=
"_parent"in this,g=this._parent,f;this._parent=b;this._parent._self=this;f=a.apply(this,arguments);if(d)this._parent=g;else delete this._parent;return f}},is:function(a){return a.__is_class__===i},initPopulator:function(a,b){var e=null,d;return function(){if(e===null){e={};for(d in a)if(a.hasOwnProperty(d)&&typeof a[d]==="function"&&(b||typeof k[d])!=="function")e[d]=c.Class.rewriteParent(a[d])}return e}}})})(jQuery);
