/*--------------------------------------------*
 * Low-level plugin that helps 
 * you to create classes/objects
 * https://github.com/kilhage/jquery-class
 *--------------------------------------------*
 * Author Emil Kilhage
 * MIT Licensed
 *--------------------------------------------*
 * Last Update: 2011-04-25 21:44:41
 * Version 1.0.0
 *--------------------------------------------*/
(function(m){function e(a,b){return h.extend(a,b)}function n(a,b,c,f){c=c!=null?c:b;for(var d in a)if(a.hasOwnProperty(d))c[d]=e.rewrite(d,a,b,f);return b}function k(a){return w.call(a)==="[object Function]"}var q=false,r="_Class"+(new Date).getTime()+"_",t="_"+r+"_",u=/\b_parent\b/.test(function(){this._parent()}),v=u?/\b_parent\b/:/.*/,o=u?/\b_parent\b\./:/.*/,x=RegExp.prototype.test,w=Object.prototype.toString,s=function(){function a(b){if(this instanceof a){if(q===false&&k(this.init))this.init.apply(this,
typeof b==="object"&&b!==null&&b.callee?b:arguments)}else return new a(arguments)}return a},h=s();h.extend=function(a,b){var c=s(),f,d=this,g,i=d.prototype;if(typeof a!=="boolean")b=a;b=typeof b==="object"&&b!==null?b:{};g=b.prototype;for(f in d)if(d.hasOwnProperty(f))c[f]=d[f];if(a===true||typeof g==="object"&&g!==null){n(b,d,c,e.initPopulator(d));b=g}q=true;g=new d;q=false;n(b||{},i,g,e.initPopulator(i));c.prototype=g;c.constructor=c.prototype.constructor=c;c.inherits=function(l){return l===d||
d.inherits(l)};return c};h.addMethods=function(a){return n(a,this.prototype)};h.inherits=function(){return false};h.prototype={addMethods:function(a){return n(a,this)}};o.test=function(a){return x.call(o,a)||a[t]===true};e.fnSearch=v;e.parentFnSearch=o;e.log_prefix="_Class";e.errors={logic_parent_call:": Logic error, unable to call the parent function since it isn't defined..",invalid_$:": Invalid data-type of the global '$' property"};e.makeClass=s;e.rewrite=function(a,b,c,f){var d=b[a],g=c[a];if(!(k(d)&&
(k(g)||!(a in c))&&!e.is(d)&&v.test(d)))return d;var i=!!(k(f)&&o.test(d)),l=g?function(){return g.apply(this,arguments)}:function(){throw"_Class"+e.errors.logic_parent_call;};a=function(){var y="_parent"in this,z=this._parent,j,p;if(i===true){i=false;j=f();for(p in j)if(j.hasOwnProperty(p))l[p]=j[p]}this._parent=l;this._parent[r]=this;j=d.apply(this,arguments);if(y)this._parent=z;else delete this._parent;return j};a[t]=i;return a};e.is=function(a){return!!(a&&a.extend===h.extend)};e.initPopulator=
function(a){var b=null;return function(){if(b===null){b={};for(var c in a)if(k(a[c]))b[c]=function(f){return function(){return f.apply(this[r],arguments)}}(a[c])}return b}};if(!m.$){if("$"in m)throw"_Class"+e.errors.invalid_$;m.$={}}m.$.Class=e})(this);
