/*--------------------------------------------*
 * Useful extensions when
 * you are creating your own
 * javascript objects/classes
 *--------------------------------------------*
 * Orgins from:
 * Simple JavaScript Inheritance and makeClass
 * by John Resig http://ejohn.org/
 *--------------------------------------------*
 * Integrated with jQuery and added
 * functionality by Emil Kilhage
 *--------------------------------------------*
 * Last Update: 2011-02-25 21:44:23
 *--------------------------------------------*/
(function(c){var j=false,n="jQuery.Class :: "+c.now(),o=/\b_parent\b/.test(function(){this._parent()}),p=o?/\b_parent\b/:/.*/,q=o?/\b_parent\b\./:/.*/,h="function",k="object",l=function(){function a(b){if(this instanceof a){if(!j&&typeof this.init===h)this.init.apply(this,typeof b===k&&b.callee?b:arguments)}else return new a(arguments)}a.__is_class__=n;return a},r=c.extend(l(),{extend:function(a,b){var d=l(),e,g;if(typeof a!=="boolean")b=a;b=typeof b===k&&b!==null?b:{};for(e in this)if(this.hasOwnProperty(e))d[e]=
this[e];if(a===true||typeof b.prototype===k){g=c.Class.initPopulator(this);c.Class.validate(b);for(e in b)if(b.hasOwnProperty(e)&&e!=="prototype")d[e]=c.Class.rewrite(e,b,this,g);b=b.prototype}d.constructor=d;c.Class.addMethods(this,b,d);return d},addMethods:function(a){return c.Class.addMethods(this,a)}});r.prototype={extend:function(a){for(var b in a)if(a.hasOwnProperty(b))this[b]=c.Class.rewrite(b,a,this);return this}};c.Class=function(a,b){return r.extend(a,b)};c.extend(c.Class,{fnSearch:p,parentFnSearch:q,
errors:{logic_parent_call:"Logic error, unable to call the parent function since it isn't defined..",self_in_prop:"'__self__' is a preserved word used in the jQuery.Class plugin, please rename the function"},log_prefix:"jQuery.Class :: ",error:function(a){c.error(c.Class.log_prefix+c.Class.errors[a])},makeClass:l,addMethods:function(a,b,d){d=d||a;j=true;var e=a.prototype||{};a=new a;var g=c.Class.initPopulator(e),f;j=false;b=b||{};c.Class.validate(b);for(f in b)if(b.hasOwnProperty(f))a[f]=c.Class.rewrite(f,
b,e,g);d.prototype=a;return d},rewrite:function(a,b,d,e){return c.type(b[a])===h&&(c.type(d[a])===h||!(a in d))&&!c.Class.is(b[a])&&p.test(b[a])?function(g,f,s){f=f||function(){c.Class.error("logic_parent_call")};var t=typeof s===h&&q.test(g);return function(){var u="_parent"in this,v=this._parent,i;if(t===true){t=false;i=s();for(var m in i)if(i.hasOwnProperty(m))f[m]=i[m]}this._parent=f;this._parent.__self__=this;i=g.apply(this,arguments);if(u)this._parent=v;else try{delete this._parent}catch(w){}return i}}(b[a],
d[a],e):b[a]},is:function(a){return a.__is_class__===n},initPopulator:function(a){var b,d;return function(){if(b==null){b={};for(d in a)if(a.hasOwnProperty(d)&&c.type(a[d])===h)b[d]=function(e){return function(){return e.apply(this.__self__,arguments)}}(a[d])}return b}},validate:function(a){c.type(a.__self__)===h&&c.Class.error("self_in_prop")}})})(jQuery);
